/*!
 * Filmstrip Carousel v0.7 (http://okize.github.com/)
 * Copyright (c) 2012 | Licensed under the MIT license - http://www.opensource.org/licenses/mit-license.php
 */(function(e,t,n){"use strict";function s(t,n){this.element=t,this.options=e.extend({},i,n),this._defaults=i,this._name=r,this.init()}var r="filmstripCarousel",i={navigation:!0,pagination:!0,speed:500};s.prototype.init=function(){var t=this.options,n=e(this.element),r=n.children(".filmstripWindow"),i=r.outerWidth(),s=r.children("ul"),o=s.find("> li"),u=o.outerWidth(),a=o.size(),f=u*a,l=Math.round(i/u);i=l===1?u:r.outerWidth();var c=Math.ceil(a/l),h=0,p={},d={},v=function(){p.btnPrev=e("<a>",{"class":"filmstripPrevious disabled",href:"#",title:"Previous",text:"Previous"}).on("click",function(t){t.preventDefault(),e(this).hasClass("disabled")||n.trigger("filmstrip.move","previous")}),p.btnNext=e("<a>",{"class":"filmstripNext",href:"#",title:"Next",text:"Next"}).on("click",function(t){t.preventDefault(),e(this).hasClass("disabled")||n.trigger("filmstrip.move","next")}),p.container=e("<div/>",{"class":"filmstripNavigation"}).append(p.btnPrev,p.btnNext),n.append(p.container)},m=function(){var t=0,r=[],i=["active"];for(var s=0;s<c;s++)r.push('<a href="#" class="'+(i[s]||" ")+'" data-filmstrip-group="'+s+'">'+(s+1)+"</a>");d.container=e("<div/>",{"class":"filmstripPagination"}).on("click","a",function(r){t=e(this).data("filmstripGroup"),r.preventDefault(),n.trigger("filmstrip.move",t)}),d.items=e(r),n.append(d.container.append(r.join("")))},g=function(e,n){var r=function(){s.css("left",-i*h)},o=function(e){var t=d.container.find("a");t.removeClass("active"),t.eq(e).addClass("active")};typeof n=="number"?t.pagination&&(o(n),h=n,r()):(n==="previous"&&h>0&&(h--,r()),n==="next"&&h<c-1&&(h++,r()),t.pagination&&o(h)),t.navigation&&(h===0?p.btnPrev.addClass("disabled"):p.btnPrev.removeClass("disabled"),h===c-1?p.btnNext.addClass("disabled"):p.btnNext.removeClass("disabled"))};if(a===0){n.remove();return}s.width(f),t.navigation?v():n.addClass("filmstripNoNav"),t.pagination?m():n.addClass("filmstripNoPagination"),n.on("filmstrip.move",g)},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new s(this,t))})}})(jQuery,window);