/*!
* Filmstrip Carousel v0.8 (http://okize.github.com/)
* Copyright (c) 2012 | Licensed under the MIT license - http://www.opensource.org/licenses/mit-license.php
*/(function(e,t,n){"use strict";function s(t,n){this.element=t,this.options=e.extend({},i,n),this._defaults=i,this._name=r,this.init()}var r="filmstripCarousel",i={itemsToShow:3,navigation:!0,navigationPosition:"Outside",pagination:!0,verboseClasses:!0};s.prototype.init=function(){var t=this.options,n=e(this.element),r=n.children(".filmstripWindow").children("ul"),i=r.find("> li"),s=i.size(),o=i.outerWidth(),u=t.itemsToShow,a=o*s,f=Math.ceil(s/u),l=0,c=o*u,h=t.navigation||t.pagination;r.width(a);if(h){if(s<=u)return;var p=e("<div/>",{"class":"filmstripControls"}),d,v={btnNext:"",btnPrev:""};if(t.pagination){var m=0,g=[],y=["active"];for(var b=0;b<f;b++)g.push('<a href="#" class="'+(y[b]||" ")+'" data-filmstrip-group="'+b+'">'+(b+1)+"</a>");d=e("<span/>",{"class":"filmstripPagination"}).on("click","a",function(t){m=e(this).data("filmstripGroup"),t.preventDefault(),n.trigger("filmstrip.move",m)}).append(g.join(""))}t.navigation&&(v.btnPrev=e("<a>",{"class":"filmstripPrevious disabled",href:"#",title:"Previous",text:"Previous"}).on("click",function(t){t.preventDefault(),e(this).hasClass("disabled")||n.trigger("filmstrip.move","previous")}),v.btnNext=e("<a>",{"class":"filmstripNext",href:"#",title:"Next",text:"Next"}).on("click",function(t){t.preventDefault(),e(this).hasClass("disabled")||n.trigger("filmstrip.move","next")})),p.append(v.btnPrev).append(d).append(v.btnNext);var w=function(e,n){var i=function(){r.css("left",-c*l)},s=function(e){var t=d.find("a");t.removeClass("active"),t.eq(e).addClass("active")};typeof n=="number"?t.pagination&&(s(n),l=n,i()):(n==="previous"&&l>0&&(l--,i()),n==="next"&&l<f-1&&(l++,i()),t.pagination&&s(l)),t.navigation&&(l===0?v.btnPrev.addClass("disabled"):v.btnPrev.removeClass("disabled"),l===f-1?v.btnNext.addClass("disabled"):v.btnNext.removeClass("disabled"))};t.verboseClasses&&n.addClass("filmstripNavigationShow").addClass("filmstripNavigation"+t.navigationPosition),n.append(p).on("filmstrip.move",w)}if(s===0){n.remove();return}},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new s(this,t))})}})(jQuery,window);